{"version":3,"sources":["images/logo.svg","components/Header.js","components/Footer.js","images/editAvatarButton.svg","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ImagePopup.js","utils/api.js","components/ConfirmDeletePlacePopup.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","src","logo","alt","Footer","CurrentUserContext","React","createContext","Card","props","currentUser","useContext","isLiked","card","likes","some","i","_id","cardLikeButtonClassName","link","onClick","onCardClick","name","owner","type","aria-label","onCardDelete","onCardLike","length","Main","style","backgroundImage","editAvatarButton","avatar","onEditAvatar","onEditProfile","about","onAddPlace","cards","map","item","PopupWithForm","this","isOpen","onClose","onSubmit","noValidate","title","children","submitText","Component","EditProfilePopup","useState","setName","description","setDescription","useEffect","e","preventDefault","onUpdateUser","onChange","target","value","placeholder","id","maxLength","minLength","required","EditAvatarPopup","imageRef","useRef","current","onUpdateAvatar","ref","AddPlacePopup","cardName","setCardName","cardUrl","setCardUrl","onAddNewCard","ImagePopup","cardImage","cardTitle","api","url","headers","_headers","_url","fetch","then","result","ok","json","Promise","reject","status","method","body","JSON","stringify","authorization","ConfirmDeletePlacePopup","onDeleteCard","cardId","App","setCurrentUser","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isConfirmDeletePopupOpen","setIsConfirmDeletePopupOpen","selectedCard","setSelectedCard","cardIdForDelete","setCardIdForDelete","setCards","isLoading","setIsLoading","closeAllPopups","handleOvelayOrCrossClose","evt","classList","contains","getInitialCards","items","catch","err","console","log","getUserInfo","data","Provider","changeLikeCardStatus","newCard","newCards","c","userData","setUserInfo","finally","userAvatar","setUserAvatar","cardData","addNewCard","deleteCard","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.0d843604.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.a307e1c4.svg\";","import logo from \"../images/logo.svg\";\n\nfunction Header() {\n  return (\n    <header className=\"header\">\n      <img src={logo} alt=\"Логотип сервиса Место\" className=\"header__logo\" />\n    </header>\n  );\n}\n\nexport default Header;\n","function Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\">© 2020 Mesto Russia</p>\n    </footer>\n  );\n}\n\nexport default Footer;\n","export default __webpack_public_path__ + \"static/media/editAvatarButton.a086f758.svg\";","import React from \"react\";\n\nconst CurrentUserContext = React.createContext();\n\nexport default CurrentUserContext;\n","import React from \"react\";\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\n\nfunction Card(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n  const isLiked = props.card.likes.some((i) => i._id === currentUser._id);\n  const cardLikeButtonClassName = `element__like-button ${\n    isLiked ? \"element__like-button_liked\" : \"\"\n  }`;\n\n  function handleClick() {\n    props.onCardClick(props.card);\n  }\n\n  function handleLikeClick() {\n    props.onCardLike(props.card);\n  }\n\n  function handleDeleteCard() {\n    props.onCardDelete(props.card);\n  }\n\n  return (\n    <div className=\"element\">\n      <img\n        className=\"element__image\"\n        src={props.card.link}\n        onClick={handleClick}\n        alt={`На фотографии: ${props.card.name}`}\n      />\n      <button\n        className={`element__delete-button ${\n          props.card.owner._id !== currentUser._id\n            ? \"element__delete-button_hidden\"\n            : \"\"\n        }`}\n        type=\"button\"\n        aria-label=\"Удалить\"\n        onClick={handleDeleteCard}\n      ></button>\n      <div className=\"element__title-item\">\n        <h2 className=\"element__title\">{props.card.name}</h2>\n        <div className=\"element__like\">\n          <button\n            className={cardLikeButtonClassName}\n            onClick={handleLikeClick}\n            type=\"button\"\n            aria-label=\"Нравится\"\n          />\n          <p className=\"element__like-count\">{props.card.likes.length}</p>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Card;","import React from \"react\";\nimport editAvatarButton from \"../images/editAvatarButton.svg\";\nimport Card from \"../components/Card\";\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\n\nfunction Main(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n    <main className=\"content\">\n      <section className=\"profile\">\n        <div\n          className=\"profile__avatar-container\"\n          style={{\n            backgroundImage: `url(${editAvatarButton})`,\n          }}\n        >\n          <img\n            alt=\"Логотип профиля\"\n            className=\"profile__avatar\"\n            src={currentUser.avatar}\n            onClick={props.onEditAvatar}\n          />\n        </div>\n        <div className=\"profile__profile-info\">\n          <div className=\"profile__title-item\">\n            <h1 className=\"profile__title\">{currentUser.name}</h1>\n            <button\n              className=\"profile__edit-button\"\n              type=\"button\"\n              aria-label=\"Редактировать профиль\"\n              onClick={props.onEditProfile}\n            />\n          </div>\n          <p className=\"profile__subtitle\">{currentUser.about}</p>\n        </div>\n        <button\n          className=\"profile__add-button\"\n          type=\"button\"\n          aria-label=\"Добавить\"\n          onClick={props.onAddPlace}\n        />\n      </section>\n\n      <section className=\"elements\">\n        {props.cards.map((item) => (\n          <Card\n            card={item}\n            onCardClick={props.onCardClick}\n            key={item._id}\n            onCardLike={props.onCardLike}\n            onCardDelete={props.onCardDelete}\n          />\n        ))}\n      </section>\n    </main>\n  );\n}\n\nexport default Main;\n","import React from \"react\";\n\nclass PopupWithForm extends React.Component {\n  render() {\n    return (\n      <div\n        className={`popup popup_theme_${this.props.name} ${\n          this.props.isOpen ? \"popup_opened\" : \"\"\n        }`}\n        onClick={this.props.onClose}\n      >\n        <div\n          className={`popup__container popup__container_theme_${this.props.name}`}\n        >\n          <button\n            className=\"popup__close-button\"\n            type=\"button\"\n            aria-label=\"Закрыть\"\n          />\n          <form\n            className={`form form_type_${this.props.name}`}\n            name={this.props.name}\n            onSubmit={this.props.onSubmit}\n            noValidate\n          >\n            <h2 className=\"form__title\">{this.props.title}</h2>\n            {this.props.children}\n            <button type=\"submit\" className=\"form__submit-button\">\n              {this.props.submitText}\n            </button>\n          </form>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default PopupWithForm;\n","import PopupWithForm from \"./PopupWithForm\";\nimport React from \"react\";\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\n\nexport default function EditProfilePopup(props) {\n  const [name, setName] = React.useState(\"\");\n  const [description, setDescription] = React.useState(\"\");\n  const currentUser = React.useContext(CurrentUserContext);\n\n  React.useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser]);\n\n  React.useEffect(() => {\n    if (!props.isOpen) {\n      setName(currentUser.name);\n      setDescription(currentUser.about);\n    }\n  }, [props.isOpen, currentUser]);\n\n  function handleChangeName(e) {\n    setName(e.target.value);\n  }\n\n  function handleChangeDescription(e) {\n    setDescription(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onUpdateUser({\n      name,\n      about: description,\n    });\n  }\n\n  return (\n    <PopupWithForm\n      name=\"edit-profile\"\n      title=\"Редактировать профиль\"\n      submitText={props.submitText}\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n    >\n      <input\n        type=\"text\"\n        name=\"userName\"\n        onChange={handleChangeName}\n        placeholder=\"Имя\"\n        className=\"form__item form__item_el_name\"\n        id=\"userName\"\n        maxLength=\"40\"\n        minLength=\"2\"\n        value={name ? name : ''}\n        required\n      />\n      <span className=\"form__item-error\" id=\"userName-error\"></span>\n      <input\n        type=\"text\"\n        name=\"userJob\"\n        onChange={handleChangeDescription}\n        placeholder=\"О себе\"\n        className=\"form__item form__item_el_position\"\n        id=\"userJob\"\n        minLength=\"2\"\n        maxLength=\"200\"\n        value={description ? description : ''}\n        required\n      />\n      <span className=\"form__item-error\" id=\"userJob-error\"></span>\n    </PopupWithForm>\n  );\n}\n","import PopupWithForm from \"./PopupWithForm\";\nimport React from \"react\";\n\nexport default function EditAvatarPopup(props) {\n  const imageRef = React.useRef();\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    props.onUpdateAvatar({\n      avatar: imageRef.current.value,\n    });\n  }\n\n  React.useEffect(() => {\n    if (props.isOpen) {\n      imageRef.current.value = \"\";\n    }\n  }, [props.isOpen]);\n\n  return (\n    <PopupWithForm\n      name=\"edit-avatar\"\n      title=\"Обновить аватар\"\n      submitText={props.submitText}\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n    >\n      <input\n        type=\"url\"\n        name=\"avatarLink\"\n        placeholder=\"Ссылка на аватарку\"\n        className=\"form__item form__item_el_link-avatar\"\n        id=\"avatarLink\"\n        ref={imageRef}\n        required\n      />\n      <span className=\"form__item-error\" id=\"avatarLink-error\"></span>\n    </PopupWithForm>\n  );\n}\n","import PopupWithForm from \"./PopupWithForm\";\nimport React from \"react\";\n\nexport default function AddPlacePopup(props) {\n  const [cardName, setCardName] = React.useState(\"\");\n  const [cardUrl, setCardUrl] = React.useState(\"\");\n\n  React.useEffect(() => {\n    if (!props.isOpen) {\n      setCardName(\"\");\n      setCardUrl(\"\");\n    }\n  }, [props.isOpen]);\n\n  function handleChangeCardName(e) {\n    setCardName(e.target.value);\n  }\n\n  function handleChangeCardUrl(e) {\n    setCardUrl(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    props.onAddNewCard({\n      link: cardUrl,\n      name: cardName,\n    });\n  }\n\n  return (\n    <PopupWithForm\n      name=\"add-card\"\n      title=\"Новое место\"\n      submitText={props.submitText}\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n    >\n      <input\n        type=\"text\"\n        name=\"name\"\n        placeholder=\"Название места\"\n        className=\"form__item form__item_el_title\"\n        id=\"cardTitle\"\n        minLength=\"2\"\n        maxLength=\"30\"\n        onChange={handleChangeCardName}\n        value={cardName}\n        required\n      />\n      <span className=\"form__item-error\" id=\"cardTitle-error\"></span>\n      <input\n        type=\"url\"\n        name=\"link\"\n        placeholder=\"Ссылка на картинку\"\n        className=\"form__item form__item_el_link\"\n        id=\"cardLink\"\n        onChange={handleChangeCardUrl}\n        value={cardUrl}\n        required\n      />\n      <span className=\"form__item-error\" id=\"cardLink-error\"></span>\n    </PopupWithForm>\n  );\n}\n","function ImagePopup(props) {\n  return (\n    <div\n      className={`popup popup_theme_preview-image ${\n        props.card.isOpen ? \"popup_opened\" : \"\"\n      }`}\n      onClick={props.onClose}\n    >\n      <div className=\"popup__container popup__container_theme_preview-image\">\n        <button\n          className=\"popup__close-button\"\n          type=\"button\"\n          aria-label=\"Закрыть\"\n        />\n        <figure className=\"popup__figure\">\n          <img\n            className=\"popup__image\"\n            src={props.card.cardImage}\n            alt={`На фотографии: ${props.card.cardTitle}`}\n          />\n          <figcaption className=\"popup__capture\">\n            {props.card.cardTitle}\n          </figcaption>\n        </figure>\n      </div>\n    </div>\n  );\n}\n\nexport default ImagePopup;\n","class Api {\n  constructor({ url, headers }) {\n    this._headers = headers;\n    this._url = url;\n  }\n\n  getInitialCards() {\n    return fetch(`${this._url}/cards`, {\n      headers: this._headers,\n    }).then((result) => {\n      if (result.ok) {\n        return result.json();\n      } else return Promise.reject(`Что-то пошло не так: ${result.status}`);\n    });\n  }\n\n  getUserInfo() {\n    return fetch(`${this._url}/users/me`, {\n      headers: this._headers,\n    }).then((result) => {\n      if (result.ok) {\n        return result.json();\n      } else return Promise.reject(`Что-то пошло не так: ${result.status}`);\n    });\n  }\n\n  setUserInfo({ name, about }) {\n    return fetch(`${this._url}/users/me`, {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({\n        name: name,\n        about: about,\n      }),\n    }).then((result) => {\n      if (result.ok) {\n        return result.json();\n      } else return Promise.reject(`Что-то пошло не так: ${result.status}`);\n    });\n  }\n\n  setUserAvatar({ avatar }) {\n    return fetch(`${this._url}/users/me/avatar`, {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar: avatar,\n      }),\n    }).then((result) => {\n      if (result.ok) {\n        return result.json();\n      } else return Promise.reject(`Что-то пошло не так: ${result.status}`);\n    });\n  }\n\n  addNewCard({ link, name }) {\n    return fetch(`${this._url}/cards`, {\n      method: \"POST\",\n      headers: this._headers,\n      body: JSON.stringify({\n        name: name,\n        link: link,\n      }),\n    }).then((result) => {\n      if (result.ok) {\n        return result.json();\n      } else return Promise.reject(`Что-то пошло не так: ${result.status}`);\n    });\n  }\n\n  deleteCard(id) {\n    return fetch(`${this._url}/cards/${id}`, {\n      method: \"DELETE\",\n      headers: this._headers,\n    }).then((result) => {\n      if (result.ok) {\n        return result.json();\n      } else return Promise.reject(`Что-то пошло не так: ${result.status}`);\n    });\n  }\n\n  changeLikeCardStatus(id, isLiked) {\n    if (isLiked) {\n      return fetch(`${this._url}/cards/likes/${id}`, {\n        method: \"DELETE\",\n        headers: this._headers,\n      }).then((result) => {\n        if (result.ok) {\n          return result.json();\n        } else return Promise.reject(`Что-то пошло не так: ${result.status}`);\n      });\n    } else {\n      return fetch(`${this._url}/cards/likes/${id}`, {\n        method: \"PUT\",\n        headers: this._headers,\n      }).then((result) => {\n        if (result.ok) {\n          return result.json();\n        } else return Promise.reject(`Что-то пошло не так: ${result.status}`);\n      });\n    }\n  }\n\n  setLike(id) {\n    return fetch(`${this._url}/cards/likes/${id}`, {\n      method: \"PUT\",\n      headers: this._headers,\n    }).then((result) => {\n      if (result.ok) {\n        return result.json();\n      } else return Promise.reject(`Что-то пошло не так: ${result.status}`);\n    });\n  }\n\n  deleteLike(id) {\n    return fetch(`${this._url}/cards/likes/${id}`, {\n      method: \"DELETE\",\n      headers: this._headers,\n    }).then((result) => {\n      if (result.ok) {\n        return result.json();\n      } else return Promise.reject(`Что-то пошло не так: ${result.status}`);\n    });\n  }\n}\n\nconst api = new Api({\n  url: \"https://mesto.nomoreparties.co/v1/cohort-17\",\n  headers: {\n    authorization: \"159d2343-af0f-47ed-9479-4499ffedf0da\",\n    \"Content-Type\": \"application/json\",\n  },\n});\n\nexport default api;\n","import PopupWithForm from \"./PopupWithForm\";\n\nexport default function ConfirmDeletePlacePopup(props) {\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    props.onDeleteCard(props.cardId);\n  }\n\n  return (\n    <PopupWithForm\n      name=\"apply-delete\"\n      title=\"Вы уверены?\"\n      submitText={props.submitText}\n      onClose={props.onClose}\n      isOpen={props.isOpen}\n      onSubmit={handleSubmit}\n    />\n  );\n}\n","import React from \"react\";\nimport Header from \"./Header\";\nimport Footer from \"./Footer\";\nimport Main from \"./Main\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport ImagePopup from \"./ImagePopup\";\nimport api from \"../utils/api\";\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\nimport ConfirmDeletePlacePopup from \"./ConfirmDeletePlacePopup\";\n\nfunction App() {\n  const [currentUser, setCurrentUser] = React.useState({});\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(\n    false\n  );\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(\n    false\n  );\n  const [\n    isConfirmDeletePopupOpen,\n    setIsConfirmDeletePopupOpen,\n  ] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState({\n    isOpen: false,\n    cardImage: \"\",\n    cardTitle: \"\",\n  });\n  const [cardIdForDelete, setCardIdForDelete] = React.useState(\"\");\n  const [cards, setCards] = React.useState([]);\n  const [isLoading, setIsLoading] = React.useState(false);\n\n  React.useEffect(() => {\n    api\n      .getInitialCards()\n      .then((items) => {\n        setCards(items);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, []);\n\n  React.useEffect(() => {\n    api\n      .getUserInfo()\n      .then((data) => {\n        setCurrentUser(data);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, []);\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\n\n    api\n      .changeLikeCardStatus(card._id, isLiked)\n      .then((newCard) => {\n        const newCards = cards.map((c) => (c._id === card._id ? newCard : c));\n        setCards(newCards);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleCardDelete(cardId) {\n    setIsLoading(true);\n    api\n      .deleteCard(cardId)\n      .then(() => {\n        const newCards = cards.filter((c) => c._id !== cardId);\n        setCards(newCards);\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n      .finally(() => {\n        setIsLoading(false);\n        closeAllPopups();\n      });\n  }\n\n  function handleAddPlaceSubmit(cardData) {\n    setIsLoading(true);\n    api\n      .addNewCard(cardData)\n      .then((card) => {\n        setCards([card, ...cards]);\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n      .finally(() => {\n        setIsLoading(false);\n        closeAllPopups();\n      });\n  }\n\n  function handleEditAvatarClick(e) {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  function handleEditProfileClick(e) {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  function handleAddPlaceClick(e) {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  function handleDeleteCardClick(e) {\n    setIsConfirmDeletePopupOpen(true);\n    setCardIdForDelete(e._id);\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard({\n      isOpen: true,\n      cardImage: card.link,\n      cardTitle: card.name,\n    });\n  }\n\n  function closeAllPopups() {\n    setIsAddPlacePopupOpen(false);\n    setIsConfirmDeletePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setSelectedCard({\n      isOpen: false,\n      cardImage: \"\",\n      cardTitle: \"\",\n    });\n  }\n\n  function handleOvelayOrCrossClose(evt) {\n    if (\n      evt.target.classList.contains(\"popup\") ||\n      evt.target.classList.contains(\"popup__close-button\")\n    ) {\n      closeAllPopups();\n    }\n  }\n\n  function handleUpdateUser(userData) {\n    setIsLoading(true);\n    api\n      .setUserInfo(userData)\n      .then((data) => {\n        setCurrentUser(data);\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n      .finally(() => {\n        setIsLoading(false);\n        closeAllPopups();\n      });\n  }\n\n  function handleUpdateAvatar(userAvatar) {\n    setIsLoading(true);\n    api\n      .setUserAvatar(userAvatar)\n      .then((data) => {\n        setCurrentUser(data);\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n      .finally(() => {\n        setIsLoading(false);\n        closeAllPopups();\n      });\n  }\n\n  return (\n    <div className=\"App\">\n      <CurrentUserContext.Provider value={currentUser}>\n        <div className=\"page__container\">\n          <Header />\n\n          <Main\n            onEditProfile={handleEditProfileClick}\n            onAddPlace={handleAddPlaceClick}\n            onEditAvatar={handleEditAvatarClick}\n            onCardClick={handleCardClick}\n            cards={cards}\n            onCardLike={handleCardLike}\n            onCardDelete={handleDeleteCardClick}\n          />\n\n          <Footer />\n\n          <EditProfilePopup\n            isOpen={isEditProfilePopupOpen}\n            onClose={handleOvelayOrCrossClose}\n            onUpdateUser={handleUpdateUser}\n            submitText={isLoading ? \"Сохранение...\" : \"Сохранить\"}\n          />\n          <EditAvatarPopup\n            isOpen={isEditAvatarPopupOpen}\n            onClose={handleOvelayOrCrossClose}\n            onUpdateAvatar={handleUpdateAvatar}\n            submitText={isLoading ? \"Сохранение...\" : \"Сохранить\"}\n          />\n          <AddPlacePopup\n            isOpen={isAddPlacePopupOpen}\n            onClose={handleOvelayOrCrossClose}\n            onAddNewCard={handleAddPlaceSubmit}\n            submitText={isLoading ? \"Сохранение...\" : \"Создать\"}\n          />\n          <ConfirmDeletePlacePopup\n            isOpen={isConfirmDeletePopupOpen}\n            onClose={handleOvelayOrCrossClose}\n            onDeleteCard={handleCardDelete}\n            cardId={cardIdForDelete}\n            submitText={isLoading ? \"Удаляем...\" : \"Да\"}\n          />\n\n          <ImagePopup card={selectedCard} onClose={handleOvelayOrCrossClose} />\n        </div>\n      </CurrentUserContext.Provider>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nreportWebVitals();\n"],"sourceRoot":""}